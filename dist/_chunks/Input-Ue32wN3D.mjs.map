{"version":3,"file":"Input-Ue32wN3D.mjs","sources":["../../admin/src/utils/getTranslation.js","../../admin/src/components/Input.jsx"],"sourcesContent":["import { PLUGIN_ID } from \"../pluginId\";\n\nconst getTranslation = (id) => `${PLUGIN_ID}.${id}`;\n\nexport { getTranslation };\n","import * as React from \"react\";\nimport { useIntl } from \"react-intl\";\nimport { useField } from \"@strapi/strapi/admin\";\nimport { Field, Flex } from \"@strapi/design-system\";\nimport { useParams } from \"react-router-dom\";\n\nimport { getTranslation } from \"../utils/getTranslation\";\n\nexport const Input = React.forwardRef((props, ref) => {\n  const {\n    name,\n    hint,\n    label,\n    labelAction,\n    required,\n    attribute,\n    disabled,\n    onChange,\n  } = props;\n\n  const field = useField(name);\n  const { formatMessage } = useIntl();\n\n  const { id: documentId } = useParams();\n\n  console.log(\"Document ID:\", documentId);\n\n  React.useEffect(() => {\n    const testRoute = async () => {\n      try {\n        const res = await fetch(\n          `/admin/imagiterate/get-document?documentId=${documentId}`,\n          {\n            headers: {\n              \"Content-Type\": \"application/json\",\n              // Admin panel already has JWT baked into fetch by default,\n              // but if you need it explicitly:\n              // Authorization: `Bearer ${window.strapi?.auth?.getToken()}`,\n            },\n          },\n        );\n        const data = await res.json();\n        console.log(\"Route response:\", data);\n      } catch (err) {\n        console.error(\"Error hitting test route:\", err);\n      }\n    };\n\n    if (documentId) testRoute();\n  }, [documentId]);\n\n  const handleChange = (e) => {\n    onChange({\n      target: {\n        name,\n        type: attribute.type,\n        value: e.currentTarget.value,\n      },\n    });\n  };\n\n  return (\n    <Field.Root\n      name={name}\n      id={name}\n      error={field.error}\n      hint={hint}\n      required={required}\n    >\n      <Flex direction=\"column\" alignItems=\"stretch\" gap={1}>\n        <Field.Label action={labelAction}>{label}</Field.Label>\n\n        <Field.Input\n          ref={ref}\n          aria-label={formatMessage({\n            id: getTranslation(\"imagiterate.input.aria-label\"),\n            defaultMessage: \"Imagiterate input\",\n          })}\n          name={name}\n          value={field.value ?? \"\"}\n          disabled={disabled}\n          required={required}\n          placeholder=\"Type hereâ€¦\"\n          onChange={handleChange}\n        />\n\n        <Field.Hint />\n        <Field.Error />\n      </Flex>\n    </Field.Root>\n  );\n});\n"],"names":[],"mappings":";;;;;;;AAEA,MAAM,iBAAiB,CAAC,OAAO,GAAG,SAAS,IAAI,EAAE;ACM1C,MAAM,QAAQ,MAAM,WAAW,CAAC,OAAO,QAAQ;AACpD,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA,IACE;AAEJ,QAAM,QAAQ,SAAS,IAAI;AAC3B,QAAM,EAAE,cAAA,IAAkB,QAAA;AAE1B,QAAM,EAAE,IAAI,WAAA,IAAe,UAAA;AAE3B,UAAQ,IAAI,gBAAgB,UAAU;AAEtC,QAAM,UAAU,MAAM;AACpB,UAAM,YAAY,YAAY;AAC5B,UAAI;AACF,cAAM,MAAM,MAAM;AAAA,UAChB,8CAA8C,UAAU;AAAA,UACxD;AAAA,YACE,SAAS;AAAA,cACP,gBAAgB;AAAA;AAAA;AAAA;AAAA,YAAA;AAAA,UAIlB;AAAA,QACF;AAEF,cAAM,OAAO,MAAM,IAAI,KAAA;AACvB,gBAAQ,IAAI,mBAAmB,IAAI;AAAA,MACrC,SAAS,KAAK;AACZ,gBAAQ,MAAM,6BAA6B,GAAG;AAAA,MAChD;AAAA,IACF;AAEA,QAAI,WAAY,WAAA;AAAA,EAClB,GAAG,CAAC,UAAU,CAAC;AAEf,QAAM,eAAe,CAAC,MAAM;AAC1B,aAAS;AAAA,MACP,QAAQ;AAAA,QACN;AAAA,QACA,MAAM,UAAU;AAAA,QAChB,OAAO,EAAE,cAAc;AAAA,MAAA;AAAA,IACzB,CACD;AAAA,EACH;AAEA,SACE;AAAA,IAAC,MAAM;AAAA,IAAN;AAAA,MACC;AAAA,MACA,IAAI;AAAA,MACJ,OAAO,MAAM;AAAA,MACb;AAAA,MACA;AAAA,MAEA,+BAAC,MAAA,EAAK,WAAU,UAAS,YAAW,WAAU,KAAK,GACjD,UAAA;AAAA,QAAA,oBAAC,MAAM,OAAN,EAAY,QAAQ,aAAc,UAAA,OAAM;AAAA,QAEzC;AAAA,UAAC,MAAM;AAAA,UAAN;AAAA,YACC;AAAA,YACA,cAAY,cAAc;AAAA,cACxB,IAAI,eAAe,8BAA8B;AAAA,cACjD,gBAAgB;AAAA,YAAA,CACjB;AAAA,YACD;AAAA,YACA,OAAO,MAAM,SAAS;AAAA,YACtB;AAAA,YACA;AAAA,YACA,aAAY;AAAA,YACZ,UAAU;AAAA,UAAA;AAAA,QAAA;AAAA,QAGZ,oBAAC,MAAM,MAAN,EAAW;AAAA,QACZ,oBAAC,MAAM,OAAN,CAAA,CAAY;AAAA,MAAA,EAAA,CACf;AAAA,IAAA;AAAA,EAAA;AAGN,CAAC;"}